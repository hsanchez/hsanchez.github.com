---
layout: default
title: Violette Vesper
description: a Chrome extension for curating Java source code.
---

## Violette, {{page.description}}

**Violette** is the companion Chrome extension to Vesper. It allows users to curate code snippets from example code blocks on StackOverflow.

I'll give an overview of some of the features you'll find on [Violette](https://www.dropbox.com/s/dpse9g1nojt4e73/vesper-web.crx) before asking you to try it.

# After installation ... 

After installation, you’ll find that Java code blocks (specifically `<pre>` tags) will be highlighted and have a tooltip appear in the right on hover. Click on the highlighted code block to start up a new Scratchspace editor.

{% include image.html url="http://www.huascarsanchez.com/static/highlight.png" description="Violette's Scratchspace" caption="Fig1. Highlighted Java code block." height = "310" width = "500"%}

# Unlocking the Scratchspace
 
After clicking on the highlighted code block, you may find the `Plus` and `Steps` button at the bottom of the Scratchspace editor [^1]. These buttons are the first (and easiest way) to get started with [Violette](https://www.dropbox.com/s/dpse9g1nojt4e73/vesper-web.crx). Click on any of them to unlock the Scratchspace editor.

{% include image.html url="http://www.huascarsanchez.com/static/PlusAndSteps.png" description="Get started with Violette" caption="Fig2. Unlocking Violette's Scratchspace." height = "176" width = "472"%}

Once pressed, any of these buttons will ask you to enter certain information before unlocking the Scratchspace:

* `Plus`: It'll ask you to enter either a class name or a class name plus a method signature. This input uses the syntax `Class[#method(arg:type...):type]` where `Class` is a class name, and `[#method(arg:type...):type]` is an optional method signature. For example, you can either enter `Sorter`, `Sorter#sorts():void`, or `Sorter#sorts(array:Int[]):void`.     
* `Steps`: It'll ask you to enter a class name. For example, you can enter `Sorter`. 

# The Rest ...

The rest includes a Toolbar, an Edit Tracker, the `Verify` and `Preview` buttons, and a few handy shortcuts. 

{% include image.html url="http://www.huascarsanchez.com/static/Scratchspace.png" description="Get started with Violette" caption="Fig3. Violette's User Interface." height = "380" width = "500"%} 

Here is an additional information for each component:

* `Delete`: Safely delete a class, method, field, parameter, etc. if no occurrences of it are found in the solution.
* `Cleanup`: Complement code reformatting with additional actions. Specifically, deduplication, and unused imports removal.
* `Clip`: Clip a method or methods that interest you. 
* `Rename`: Change names of classes, methods, parameters, fields, and local variables.
* `Comment`: Add valuable information to any part or all of the code snippet. Comments give meaningful feedback to those who edit code.
* `Fullscreen`: Edit the code snippet in fullscreen mode.
* `Question mark`: Displays Violette's help.
* `Edit Tracker`: A slider which keeps track of all of the performed code edits [^2].  
* `Verify`: Verifies if the code is syntactically correct (i.e., no syntax errors were found on the code)
* `Preview`: It previews your curated code before it can be saved.

As for the handy shortcuts, here they are:

* `Ctrl-F / Cmd-F`: Start searching for symbols in the code snippet.
* `Ctrl-G / Cmd-G`: Move to next found match.
* `Shift-Ctrl-G / Shift-Cmd-G`: Move to previous found match.
* `Shift-Ctrl-F / Cmd-Option-F`: Start replacing matches.
* `Shift-Ctrl-R / Shift-Cmd-Option-F`: Start replacing *ALL* matches.

There you have it. That was Violette in a nutshell. The next section will cover how you can help me evaluate it.

## Evaluation of Violette

To evaluate **Violette**, I have put together the following **experiment**:

You, the subject, will be asked to pick, from a list of *randomly selected* code snippets generated by this site, at least two code snippets to curate. Then, after curating the code snippets, you will be asked to complete a [survey](http://goo.gl/vzqmzG).

Today's theme for the experiment is *Sorting algorithms*. That is, this site will download the top answers from [Stackoverflow](http://www.stackoverflow.com) for the tags "java" and "sort". Then, it will randomly select 5 top answers from the generated list of top answers. These 5 top answers are the source code curation candidates.


## Before starting the task

1. Make sure you have Google Chrome (**Version 36 or higher**) installed on your computer.
2. Download [Violette](https://www.dropbox.com/s/dpse9g1nojt4e73/vesper-web.crx).  
3. Install it on Google Chrome.


## The Task

Your task is to **curate**—correct, improve, and extend—at least two code snippets selected from the list of 5 top answers. Your goal is to try to make your selected code snippets as reusable and complete as possible. Code snippets that are beyond repair can be skipped. In such a case, please pick another code snippet from the list of 5 top answers.

So without further ado, please press the **START** button to get your first batch of code snippets to curate.

<div class="searcher">
    <button id="search">START</button>
</div>

<div id="columns">
    <div id="left-col">
        <h4><strong>Searching for candidates</strong></h4>
        <div id="logger"></div>
        <div id="stopper" class="hide">
           Had enough? <a href="#" id="stop">Stop it!</a>
        </div>
    </div>
</div>
<div id="right-col">
    <h4><strong>Listed candidates</strong></h4>
    <div id="displayer"></div>
</div>
<div id="clear"></div>


Thank you for trying **Violette**. Now, we need your feedback. Please take a few minutes to complete our [survey](http://goo.gl/vzqmzG).


## Additional information

All the curated code snippets will be available, as tweets, on Twitter. If you want to see them, please follow [@codedetour](https://twitter.com/codedetour).

[^1]: The `Plus` and `Steps` buttons will be enabled if the detected code blocks is not wrapped within a class or a Class' method (i.e., a sequence of statements). Otherwise, you'll see the `Verify` button. 

[^2]: Undo or Redo edits are not allowed by design.   